--EMPLOYEE Table Creation 

CREATE TABLE employee (
emp_id NUMBER PRIMARY KEY,
emp_name VARCHAR2(50), 
department VARCHAR2(30),
salary NUMBER(10,2)
);

--Insert Sample Data into EMPLOYEE Table:

INSERT INTO employee VALUES (101, 'Ravi Sharma', 'HR', 25000);
INSERT INTO employee VALUES (102, 'Asha Mehta', 'IT', 45000);
INSERT INTO employee VALUES (103, 'John Dsouza', 'Finance', 15000);
INSERT INTO employee VALUES (104, 'Neha Patel', 'IT', 55000);
INSERT INTO employee VALUES (105, 'Karan Joshi', 'Marketing', 9500);
Select * from employee;


--[1]	Trigger-1: Create a BEFORE trigger to stop inserting/updating low salaries. [P-8]
--SOLUTION:
--STEP-1 CREATE A TRIGGER
CREATE OR REPLACE TRIGGER trg_salary_check BEFORE INSERT OR UPDATE ON employee
FOR EACH ROW BEGIN
IF :NEW.salary < 10000 THEN
RAISE_APPLICATION_ERROR(-20001, 'Salary must be at least 10,000');
END IF; END;
--STEP-2 WHEN WE EXCUTE SELECT QUERY BEFORE FIRE THE TRIGGER IF SALARY BELOW 10,000
INSERT INTO employee VALUES (106, 'Vinay Singh', 'Sales', 8000); 


--[2]	AFTER INSERT trigger on your employee table. This trigger will fire automatically after a new row is inserted and print a confirmation message with employee details.
--SOLUTION:
--STEP-1 CREATE A TRIGGER
CREATE OR REPLACE TRIGGER trg_after_insert_employee AFTER INSERT ON employee
FOR EACH ROW BEGIN
DBMS_OUTPUT.PUT_LINE('New Employee Added: ' || :NEW.emp_id || ', Name: ' || :NEW.emp_name ||
', Dept: ' || :NEW.department || ', Salary: ' || :NEW.salary);
END;
--STEP-2 WHEN WE EXCUTE INSERT QUERY AFTER FIRE THE TRIGGER IF SALARY BELOW 10,000
INSERT INTO employee VALUES (106, 'Meera Shah', 'Finance', 32000); 
